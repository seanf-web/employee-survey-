<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TASK Monthly Employment Survey</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8fafc;
      margin: 0; padding: 0;
    }
    .container {
      max-width: 900px;
      margin: 30px auto;
      background: #fff;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      position: relative;
    }
    /* Language Toggle */
    .language-toggle {
      position: absolute;
      top: 15px; left: 15px;
    }
    .language-toggle select {
      padding: 6px 10px;
      border: 2px solid #ff911f;
      border-radius: 6px;
      font-size: 13px;
    }
    /* Progress bar */
    .progressbar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      counter-reset: step;
    }
    .progressbar li {
      list-style: none;
      width: 100%;
      text-align: center;
      position: relative;
      font-weight: bold;
      color: #555;
    }
    .progressbar li::before {
      counter-increment: step;
      content: counter(step);
      width: 40px; height: 40px;
      line-height: 40px;
      border: 2px solid #ccc;
      display: block;
      text-align: center;
      margin: 0 auto 10px auto;
      border-radius: 50%;
      background: #fff;
      font-weight: bold;
    }
    .progressbar li.active::before {
      border-color: #ff911f;
      background: #ff911f;
      color: #fff;
    }
    .progressbar li::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 4px;
      background: #ccc;
      top: 18px; left: -50%;
      z-index: -1;
    }
    .progressbar li:first-child::after { content: none; }
    .progressbar li.active + li::after { background: #ff911f; }
    /* Form inputs */
    input, textarea, select {
      width: 95%;
      padding: 12px;
      margin: 10px 0;
      border: 2px solid #ccc;
      border-radius: 10px;
      font-size: 15px;
    }
    textarea { resize: vertical; }
    /* Buttons */
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin: 10px 5px;
      transition: transform 0.2s;
    }
    .btn:hover { transform: translateY(-2px); }
    .btn-primary { background: linear-gradient(135deg,#33A7B5,#145078); color:#fff; }
    .btn-secondary { background: linear-gradient(135deg,#74ba58,#4a9c3c); color:#fff; }
    /* Upload buttons */
    .upload-btn {
      display: inline-block;
      padding: 12px 20px;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      text-align: center;
      color: white;
      margin: 5px;
    }
    .camera-btn { background: linear-gradient(135deg,#33A7B5,#145078); }
    .file-btn { background: linear-gradient(135deg,#74ba58,#4a9c3c); }
    .preview img {
      max-width: 120px;
      margin: 10px;
      border-radius: 8px;
      border: 2px solid #ccc;
    }
    /* Completed page */
    .completed { text-align: center; }
    .completed h2 { font-size: 28px; color: green; margin-bottom: 10px; }
    .next-steps {
      background: #e6f3fc;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      display: inline-block;
      text-align: center;
    }
  </style>
</head>
<body>
<div class="container">

  <!-- Language Toggle -->
  <div class="language-toggle">
    <select id="languageSelect" onchange="setLanguage()">
      <option value="en">English</option>
      <option value="es">EspaÃ±ol</option>
      <option value="ht">KreyÃ²l</option>
    </select>
  </div>

  <!-- Progress Bar -->
  <ul class="progressbar" id="progressbar">
    <li class="active">Contact</li>
    <li>Employment</li>
    <li>Survey</li>
    <li>Pay Stubs</li>
    <li>Complete</li>
  </ul>

  <!-- Survey Form -->
  <form id="surveyForm">
    <!-- Step 1 -->
    <div class="step" id="step1">
      <h2 data-en="Contact Information" data-es="InformaciÃ³n de Contacto" data-ht="EnfÃ²masyon Kontak">Contact Information</h2>
      <p>Please provide your contact information so we can stay in touch.</p>
      <label>First Name*</label>
      <input type="text" id="firstName" required>
      <label>Last Name*</label>
      <input type="text" id="lastName" required>
      <label>Phone Number*</label>
      <input type="tel" id="phone" maxlength="14" placeholder="(XXX) XXX-XXXX" required>
      <label>Email*</label>
      <input type="email" id="email" required>
      <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2" style="display:none;">
      <h2>Employment Information</h2>
      <label>Current Employer*</label>
      <input type="text" id="employer" required>
      <label>Job Title*</label>
      <input type="text" id="jobTitle" required>
      <label>Start Date*</label>
      <input type="date" id="startDate" required>
      <button type="button" class="btn btn-secondary" onclick="prevStep()">Back</button>
      <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step3" style="display:none;">
      <h2>Survey Questions</h2>
      <label>What has helped you stay successful?</label>
      <textarea id="stayReasons" rows="3" required></textarea>
      <label>What challenges are you facing?</label>
      <textarea id="challenges" rows="3" required></textarea>
      <label>Did TASK make a difference in your employment journey?</label>
      <textarea id="taskImpact" rows="3" required></textarea>
      <button type="button" class="btn btn-secondary" onclick="prevStep()">Back</button>
      <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step4" style="display:none;">
      <h2>Upload Pay Stubs</h2>
      <p>Please provide two pay stubs for employment verification.</p>
      <label>Pay Stub #1</label><br>
      <label class="upload-btn camera-btn">ðŸ“· Take Photo
        <input type="file" accept="image/*" capture="environment" onchange="previewFile(event,'preview1')" hidden required>
      </label>
      <label class="upload-btn file-btn">ðŸ“‚ Upload File
        <input type="file" accept="image/*,.pdf" onchange="previewFile(event,'preview1')" hidden required>
      </label>
      <div id="preview1" class="preview"></div>

      <label>Pay Stub #2</label><br>
      <label class="upload-btn camera-btn">ðŸ“· Take Photo
        <input type="file" accept="image/*" capture="environment" onchange="previewFile(event,'preview2')" hidden required>
      </label>
      <label class="upload-btn file-btn">ðŸ“‚ Upload File
        <input type="file" accept="image/*,.pdf" onchange="previewFile(event,'preview2')" hidden required>
      </label>
      <div id="preview2" class="preview"></div>

      <button type="button" class="btn btn-secondary" onclick="prevStep()">Back</button>
      <button type="button" class="btn btn-primary" onclick="nextStep()">Submit</button>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5" style="display:none;">
      <div class="completed">
        <h2>ðŸŽ‰ Survey Completed!</h2>
        <p>Thank you for completing your monthly survey.</p>
        <div class="next-steps">
          <h3>Next Steps</h3>
          <p>Visit the TASK Employment Office to pick up your gift card.</p>
          <p><strong>Office:</strong> Monâ€“Fri 9â€“4<br>
             <strong>Lunch:</strong> Monâ€“Sat 10:30â€“1<br>
             <strong>Dinner:</strong> Monâ€“Thu 3:30â€“5</p>
          <p><strong>Phone Numbers:</strong> (609) 697-6215 / (609) 697-6166</p>
        </div>
      </div>
    </div>
  </form>
</div>

<script>
  let currentStep = 1;

  function showStep(n) {
    document.querySelectorAll('.step').forEach((s,i)=> {
      s.style.display = (i===n-1)?'block':'none';
    });
    document.querySelectorAll('.progressbar li').forEach((li,i)=>{
      li.classList.toggle('active', i < n);
    });
    currentStep = n;
  }

  function validateStep() {
    const step = document.querySelector(`#step${currentStep}`);
    const inputs = step.querySelectorAll("input[required], textarea[required]");
    for (let input of inputs) {
      if (!input.value.trim()) {
        alert("Please complete all required fields before continuing.");
        return false;
      }
    }
    return true;
  }

  function nextStep() {
    if (!validateStep()) return;
    if(currentStep<5) showStep(currentStep+1);
  }

  function prevStep() { if(currentStep>1) showStep(currentStep-1); }

  function previewFile(e, id) {
    const files = e.target.files;
    const preview = document.getElementById(id);
    preview.innerHTML = '';
    [...files].forEach(file=>{
      const reader = new FileReader();
      reader.onload = function(ev) {
        const img = document.createElement('img');
        img.src = ev.target.result;
        preview.appendChild(img);
      }
      reader.readAsDataURL(file);
    });
  }

  document.getElementById('phone').addEventListener('input', function(e) {
    let x = e.target.value.replace(/\D/g,'').match(/(\d{0,3})(\d{0,3})(\d{0,4})/);
    e.target.value = !x[2] ? x[1] : '('+x[1]+') '+x[2]+(x[3] ? '-'+x[3] : '');
  });

  // Language toggle
  function setLanguage() {
    const lang = document.getElementById("languageSelect").value;
    document.querySelectorAll("[data-en]").forEach(el => {
      el.innerText = el.getAttribute(`data-${lang}`) || el.getAttribute("data-en");
    });
  }
</script>
</body>
</html>
