<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TASK Monthly Employment Survey</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f9fc;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 800px;
      margin: 30px auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #145078;
    }
    label {
      font-weight: bold;
      display: block;
      margin: 10px 0 5px;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 15px;
      font-size: 14px;
    }
    button {
      background: linear-gradient(90deg,#145078,#ff911f);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover {
      opacity: 0.9;
    }
    .hidden { display: none; }
    .progress {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }
    .step {
      width: 18%;
      text-align: center;
      font-size: 14px;
    }
    .step span {
      display: inline-block;
      background: #ccc;
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      line-height: 30px;
      margin-bottom: 5px;
    }
    .step.active span { background: #145078; }
    .success {
      text-align: center;
      color: green;
      font-size: 22px;
      margin-top: 20px;
    }
    .lang-toggle {
      position: absolute;
      top: 15px;
      left: 15px;
    }
    .next-steps {
      background: #e6f3ff;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
      text-align: center;
    }
  </style>
</head>
<body>

<div class="container">
  <!-- Language Toggle -->
  <select id="lang" class="lang-toggle" onchange="switchLanguage(this.value)">
    <option value="en">English</option>
    <option value="es">EspaÃ±ol</option>
    <option value="ht">KreyÃ²l</option>
  </select>

  <!-- Progress Bar -->
  <div class="progress">
    <div class="step" id="step1"><span>1</span><div id="step1Label">Contact</div></div>
    <div class="step" id="step2"><span>2</span><div id="step2Label">Employment</div></div>
    <div class="step" id="step3"><span>3</span><div id="step3Label">Survey</div></div>
    <div class="step" id="step4"><span>4</span><div id="step4Label">Pay Stubs</div></div>
    <div class="step" id="step5"><span>5</span><div id="step5Label">Complete</div></div>
  </div>

  <!-- Step 1: Contact -->
  <div id="page1">
    <h2 id="contactTitle">Contact Information</h2>
    <label id="firstNameLabel">First Name*</label>
    <input type="text" id="firstName">
    <label id="lastNameLabel">Last Name*</label>
    <input type="text" id="lastName">
    <label id="phoneLabel">Phone Number*</label>
    <input type="text" id="phone" placeholder="(XXX) XXX-XXXX" oninput="formatPhone(this)">
    <label id="emailLabel">Email*</label>
    <input type="email" id="email">
    <button onclick="nextPage(1)">Next</button>
  </div>

  <!-- Step 2: Employment -->
  <div id="page2" class="hidden">
    <h2 id="employmentTitle">Employment Information</h2>
    <label id="employerLabel">Employer*</label>
    <input type="text" id="employer">
    <label id="jobLabel">Job Title*</label>
    <input type="text" id="jobTitle">
    <label id="startDateLabel">Start Date*</label>
    <input type="date" id="startDate">
    <label id="stillLabel">Are you still employed?*</label>
    <select id="stillWorking">
      <option value="">Select</option>
      <option value="yes">Yes</option>
      <option value="no">No</option>
    </select>
    <button onclick="prevPage(2)">Back</button>
    <button onclick="nextPage(2)">Next</button>
  </div>

  <!-- Step 3: Survey -->
  <div id="page3" class="hidden">
    <h2 id="surveyTitle">Survey Questions</h2>
    <label id="impactLabel">Has TASK support made a difference?</label>
    <textarea id="impact"></textarea>
    <label id="challengeLabel">Any challenges we can help with?</label>
    <textarea id="challenges"></textarea>
    <button onclick="prevPage(3)">Back</button>
    <button onclick="nextPage(3)">Next</button>
  </div>

  <!-- Step 4: Pay Stubs -->
  <div id="page4" class="hidden">
    <h2 id="payStubTitle">Upload Pay Stubs</h2>
    <p id="payStubBlurb">Please provide two pay stubs for employment verification.</p>
    <label>Pay Stub #1</label>
    <input type="file" id="payStub1" accept="image/*,.pdf" capture="environment">
    <label>Pay Stub #2</label>
    <input type="file" id="payStub2" accept="image/*,.pdf" capture="environment">
    <button onclick="prevPage(4)">Back</button>
    <button onclick="nextPage(4)">Submit</button>
  </div>

  <!-- Step 5: Complete -->
  <div id="page5" class="hidden">
    <div class="success">ðŸŽ‰ Survey Completed!</div>
    <p style="text-align:center;">Thank you for completing your monthly survey.</p>
    <div class="next-steps">
      <h3>Next Steps</h3>
      <p>Visit the TASK Employment Office to pick up your gift card reward.</p>
      <p>Office: Monâ€“Fri 9â€“4<br>Lunch: Monâ€“Sat 10:30â€“1<br>Dinner: Monâ€“Thu 3:30â€“5</p>
      <p>Phone Numbers: (609) 697-6215 / (609) 697-6166</p>
    </div>
  </div>
</div>

<script>
  let currentPage = 1;

  function showPage(n) {
    for (let i = 1; i <= 5; i++) {
      document.getElementById("page" + i).classList.add("hidden");
      document.getElementById("step" + i).classList.remove("active");
    }
    document.getElementById("page" + n).classList.remove("hidden");
    document.getElementById("step" + n).classList.add("active");
    currentPage = n;
  }

  function nextPage(n) {
    if (!validatePage(n)) return;
    showPage(n + 1);
  }

  function prevPage(n) { showPage(n - 1); }

  function validatePage(n) {
    if (n === 1) {
      if (!document.getElementById("firstName").value ||
          !document.getElementById("lastName").value ||
          !document.getElementById("phone").value ||
          !document.getElementById("email").value) {
        alert("Please complete all fields.");
        return false;
      }
    }
    if (n === 2) {
      if (!document.getElementById("employer").value ||
          !document.getElementById("jobTitle").value ||
          !document.getElementById("startDate").value ||
          !document.getElementById("stillWorking").value) {
        alert("Please complete all fields.");
        return false;
      }
    }
    if (n === 4) {
      let files1 = document.getElementById("payStub1").files.length;
      let files2 = document.getElementById("payStub2").files.length;
      if (files1 + files2 < 2) {
        alert("Please upload at least 2 pay stubs (or 1 image showing both).");
        return false;
      }
    }
    return true;
  }

  function formatPhone(input) {
    let value = input.value.replace(/\D/g, "").substring(0, 10);
    let formatted = value;
    if (value.length > 6) {
      formatted = "(" + value.substring(0,3) + ") " + value.substring(3,6) + "-" + value.substring(6,10);
    } else if (value.length > 3) {
      formatted = "(" + value.substring(0,3) + ") " + value.substring(3,6);
    }
    input.value = formatted;
  }

  const translations = {
    en: {
      contactTitle: "Contact Information", firstName: "First Name*", lastName: "Last Name*", phone: "Phone Number*", email: "Email*",
      employmentTitle: "Employment Information", employer: "Employer*", job: "Job Title*", startDate: "Start Date*", still: "Are you still employed?*",
      surveyTitle: "Survey Questions", impact: "Has TASK support made a difference?", challenge: "Any challenges we can help with?",
      payStubTitle: "Upload Pay Stubs", payStubBlurb: "Please provide two pay stubs for employment verification."
    },
    es: {
      contactTitle: "InformaciÃ³n de contacto", firstName: "Nombre*", lastName: "Apellido*", phone: "NÃºmero de telÃ©fono*", email: "Correo electrÃ³nico*",
      employmentTitle: "InformaciÃ³n laboral", employer: "Empleador*", job: "TÃ­tulo del trabajo*", startDate: "Fecha de inicio*", still: "Â¿Sigues empleado?*",
      surveyTitle: "Preguntas de la encuesta", impact: "Â¿El apoyo de TASK ha marcado una diferencia?", challenge: "Â¿Hay desafÃ­os en los que podamos ayudar?",
      payStubTitle: "Subir talones de pago", payStubBlurb: "Proporcione dos talones de pago para la verificaciÃ³n de empleo."
    },
    ht: {
      contactTitle: "EnfÃ²masyon Kontak", firstName: "Prenon*", lastName: "Non fanmi*", phone: "Nimewo telefÃ²n*", email: "ImÃ¨l*",
      employmentTitle: "EnfÃ²masyon Travay", employer: "AnplwayÃ¨*", job: "Tit Travay*", startDate: "Dat KÃ²manse*", still: "Ãˆske w toujou ap travay?*",
      surveyTitle: "Kesyon Sondaj", impact: "Ãˆske sipÃ² TASK te fÃ¨ diferans?", challenge: "Ãˆske gen defi nou ka ede w ak yo?",
      payStubTitle: "Telechaje fich pey", payStubBlurb: "Tanpri bay de fich pey pou verifikasyon travay."
    }
  };

  function switchLanguage(lang) {
    document.getElementById("contactTitle").innerText = translations[lang].contactTitle;
    document.getElementById("firstNameLabel").innerText = translations[lang].firstName;
    document.getElementById("lastNameLabel").innerText = translations[lang].lastName;
    document.getElementById("phoneLabel").innerText = translations[lang].phone;
    document.getElementById("emailLabel").innerText = translations[lang].email;

    document.getElementById("employmentTitle").innerText = translations[lang].employmentTitle;
    document.getElementById("employerLabel").innerText = translations[lang].employer;
    document.getElementById("jobLabel").innerText = translations[lang].job;
    document.getElementById("startDateLabel").innerText = translations[lang].startDate;
    document.getElementById("stillLabel").innerText = translations[lang].still;

    document.getElementById("surveyTitle").innerText = translations[lang].surveyTitle;
    document.getElementById("impactLabel").innerText = translations[lang].impact;
    document.getElementById("challengeLabel").innerText = translations[lang].challenge;

    document.getElementById("payStubTitle").innerText = translations[lang].payStubTitle;
    document.getElementById("payStubBlurb").innerText = translations[lang].payStubBlurb;
  }

  // Show first page
  showPage(1);
</script>

</body>
</html>
